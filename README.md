マイクロサービスにおける認証・認可をOAuth2で行う
===

マイクロサービスを作りたいとき、認証・認可部分だけを行うサービスを切り出したい場合が多い  
Doorkeeperを利用してOAuth2を入れているサンプルはいっぱいあるのだが、認可とリソースが別れているサンプルが探してもなかったので、自分で作ることにした


今回はサービスを３つ連携させる

```
1. クライアントサービス (http://lvh.me:4000)
2. リソースサービス (http://lvh.me:5000)
3. 認証・認可サービス (http://lvh.me:3000)
```

# やりたいこと
クライアントサービスは、認可サービスから認可を取得して、リソースサービスのある特定のリソースを要求する  
リソースサービスは、トークンを検証して、クライアントが認可を得ているかを確認し、認可されている場合はリソースを返却する

# それぞれのサービスの役割

## 認証・認可サービス
Doorkeeperをインストール。OAuth2を行うサーバとする  

## クライアントサービス
認証・認可サービスからトークン情報を取得しておき、リソースへのアクセス時にそれを利用する

## リソースサービス
リクエストがあると、認証・認可サービスにアクセスしてトークンを検証する
